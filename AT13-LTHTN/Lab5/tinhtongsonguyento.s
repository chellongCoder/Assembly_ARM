;viet chuong trinh con tnh tong cac so nguyen to trong mot chuoi so	
	AREA RESET, DATA, READONLY
	EXPORT _VECTOR
_VECTOR
	 DCD 0x20001000
	 DCD RESET_HANDLER
	
	AREA MYDATA, DATA, READONLY
CHUOISO 
	 DCD -1, -2, 3, 4, -5, -8, 16
	
	AREA MYCODE, CODE, READONLY


	
		 

TONGSNT 
PROC
	 LDR R4, [R0], #4	;LAY GIA TRI ARR
	 MOV R5, #1			;BIEN CHAY R5- CHAY TU 1
Lap
	ADD R5,R5,#1		;TANG BIEN CHAY LEN- KTRA TU 2
	 CMP R5, R4			;SO SANH BIEN CHAY VS SO CAN KIEM TRA
	 BLT ChiaDu			;NHAY VE ChiaDu NEU R5 < R4
	 BGT Exit
	 BEQ XuLy			;NHAY VE XuLy NEU R5 = R4
ChiaDu
	 UDIV R6,R4,R5		;CHIA
	 MLS R7, R6, R5, R4	; R7 = R4- (R5*R5)
	CMP R7, #0			;SO SANH 
	 BNE Lap				;NHAY NEU R8 # 0
	 B Exit				;NHAY KO DIEU KIEN
XuLy
	 ADD R2,R2,R4		;TANG THEM TONG SO SNT
	 B Exit				;NHAY KHONG DIEU KIEN


Exit
	 ADD R3,R3,#1		;TANG BIEN CHAY CHUNG
	 CMP R3, #4			;SO SANH
	BLE TONGSNT				;NHAY VE SNT NEU R3 < 4
	BX LR				;TRO VE START	
	ENDP
RESET_HANDLER
MAIN PROC

	LDR R0, =CHUOISO		;LAY DIA CHI
	
	MOV R2, #0				;TONG SNT
	MOV R3, #1				;BIEN  CHAY
	
	LDR R0, =CHUOISO		;RESET
	MOV R3, #1				;RESET
	BL TONGSNT
	 NOP
		 ENDP
		 END			;HamChoiqh

 